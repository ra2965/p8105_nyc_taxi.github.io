<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>2018 Trip Pattern</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.46.1/plotly-latest.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="regression_analysis.html">Regression  Analysis</a>
</li>
<li>
  <a href="weather_and_drive.html">Weather and Drive</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">2018 Trip Pattern</h1>

</div>


<div id="temperature-and-taxi-use" class="section level2">
<h2>Temperature and Taxi Use</h2>
<div id="background" class="section level4">
<h4>Background</h4>
<p>Previous work has shown that there are relationships between taxi ridership and weather events.“During adverse weather, taxi drivers tend to make more money” (Kamga et al., 2013). Kamga et al. also found that during days when adverse weather took place, there was a higher demand for taxis in Manhattan compared to the other boroughs, and that more people were prone to take shorter taxi trips.</p>
</div>
<div id="data-tidy" class="section level4">
<h4>Data Tidy</h4>
<p>In this part, we want to see whether there is a trend between weather and yellow cab within and between months use using our data. We use the weather data including temperature and precipitation data in 2018 and their corresponding yellow taxi use data. For temperature, we use average temperature <code>average_temp</code> as the mean of maximum temperarure and miniminum temperature in each day. For yellow cab data, we use the raw data for 2018 from NYC Taxi Website, count the daily taxi usage by <code>pick_up_data</code> and then join the weather dataset by month and date.</p>
<pre class="r"><code>weather_tot=read_csv(file = &quot;./data/weather_nyc_2018.csv&quot;)%&gt;%
  mutate(date = as.character(date)) %&gt;%
  separate(date, into = c(&quot;year&quot;,&quot;month&quot;,&quot;pu_date&quot;), sep = &quot;-&quot;, convert = TRUE)%&gt;%
  mutate(
  average_temp=(tmin+tmax)/2)
  

yellowcab=read_csv(file = &quot;./data/yearly_summary/2018_taxi_trip_daily_summary.csv&quot;)%&gt;%
  mutate(date = as.character(vars),
         daily_drive=n) %&gt;%
  separate(date, into = c(&quot;year&quot;,&quot;month&quot;,&quot;pu_date&quot;), sep = &quot;-&quot;, convert = TRUE)%&gt;%
  select(-vars,-year)

cab_weather=
  left_join(weather_tot,yellowcab, by=c(&quot;month&quot;,&quot;pu_date&quot;))%&gt;%
  select(month, pu_date,average_temp, daily_drive,prcp)%&gt;%
  mutate(month=as.factor(month),
         month=recode_factor(month, &#39;1&#39;=&quot;January&quot;, &#39;2&#39;=&quot;Feburary&quot;,&#39;3&#39;=&quot;March&quot;,&#39;4&#39;=&#39;April&#39;,&#39;5&#39;=&#39;May&#39;,&#39;6&#39;=&#39;June&#39;,&#39;7&#39;=&#39;July&#39;,&#39;8&#39;=&#39;August&#39;,&#39;9&#39;=&#39;September&#39;,&#39;10&#39;=&#39;October&#39;,&#39;11&#39;=&#39;November&#39;,&#39;12&#39;=&#39;December&#39;))</code></pre>
</div>
<div id="plot-for-the-association-between-weather-and-daily-taxi-usage" class="section level4">
<h4>Plot for the association between Weather and Daily Taxi Usage</h4>
<p>Here we make an animation plot to show the daily drive amount and average daily temperature for each month.The size of the dots shows the precipitaiton for that day which help to identify whether rainy weather also increase taxi use.</p>
<p>Although we hypothesis that cold weather and hot weather might have more taxi use, there is no obvious usage increase in summer time. While, we do observed high daily drive amount in Feburary, March, April which are the four coldest month in NYC. Also,no interaction between month and average temperature being observed. In terms of the influence of precipitation, we didn’t observe a significant pattern. Contrast to what we guess before, instead of increase daily drive amount, rainy days had lower drive amount. This might due to the reason that people would just stay at home during days with heavy rain or snow. Also, if we adjust for distance, there might be a significant association between precipitation and short distance drive.</p>
<pre class="r"><code>weather_plot=cab_weather %&gt;%
  ggplot(aes(x=average_temp, y=daily_drive, frame_vars(month)))+
  geom_point(aes(size=prcp,colour = month))+
   labs(title = &#39;Month: {closest_state}&#39;,
       x = &#39;Daily Average Temperature for Year 2018 &amp;#8451;&#39;, 
       y = &#39;Daily Drive Amount&#39;,
       colour = &#39;Month&#39;,
       size=&#39;Precipitation&#39;
       ) +
  transition_states(month,2,1)+
  enter_appear()+
  exit_fade()
   
animate(weather_plot, duration=12)</code></pre>
<pre class="r"><code>heatmap &lt;-
  taxi_2018 %&gt;% 
  filter(
    passenger_count != 0,
    trip_distance != 0,
    total_amount &gt; 0,
    fare_amount != 0
  ) %&gt;% 
  mutate(tpep_pickup_datetime = as.character(tpep_pickup_datetime),
         tpep_dropoff_datetime = as.character(tpep_dropoff_datetime)) %&gt;%
  separate(tpep_pickup_datetime, into = c(&quot;a&quot;,&quot;b&quot;), sep = &quot; &quot;) %&gt;%
  separate(a, into = c(&quot;pick_year&quot;,&quot;pick_month&quot;,&quot;pu_date&quot;), sep = &quot;-&quot;) %&gt;%
  separate(b, into = c(&quot;pu_hour&quot;,&quot;pu_min&quot;), sep = &quot;:&quot;) %&gt;%
  separate(tpep_dropoff_datetime, into = c(&quot;c&quot;,&quot;d&quot;),sep = &quot; &quot;) %&gt;%
  separate(c,into = c(&quot;drop_year&quot;,&quot;drop_month&quot;,&quot;do_date&quot;),sep = &quot;-&quot;) %&gt;%
  separate(d, into = c(&quot;do_hour&quot;,&quot;do_min&quot;), sep = &quot;:&quot;) %&gt;%
  select(-pick_month,-drop_month,-pick_year,-drop_year) %&gt;% 
  mutate(
    month = as.integer(month),
    pu_date = as.integer(pu_date),
    pu_hour = as.integer(pu_hour),
    pu_min = as.integer(pu_min),
    do_date = as.integer(do_date),
    do_hour = as.integer(do_hour),
    do_min = as.integer(do_min)
  ) %&gt;% 
  left_join(zone_lookup, by = c(&quot;pu_location_id&quot; = &quot;location_id&quot;)) %&gt;% 
  rename(
    pu_boro = borough,
    pu_zone = zone
  ) %&gt;% 
  left_join(zone_lookup, by = c(&quot;do_location_id&quot; = &quot;location_id&quot;)) %&gt;% 
  rename(
    do_boro = borough,
    do_zone = zone
  ) %&gt;% 
  select(-pu_location_id, -do_location_id)</code></pre>
<p><br></p>
</div>
</div>
<div id="destination-time-and-trip-use" class="section level2">
<h2>Destination, Time, and Trip Use</h2>
<div id="background-and-data" class="section level4">
<h4>Background and Data</h4>
<p>We also looked at the yellow cab trip pattern across 24 hours in a day in the five boroughs plus Newark airport. The trip destination in the orginal data was coded in taxi zone, and information of borough was obtained by joining with the look-up table of taxi zones provided at the NYC Yellow Taxi Data webisite. Pick up time was used for the hour in a day. We then calcualted the percentage of trips in each hour among the total trips to a specific destination.</p>
</div>
<div id="heatmap-of-destination-borough-and-hour-in-a-day" class="section level4">
<h4>Heatmap of Destination Borough and Hour in a Day</h4>
<pre class="r"><code>ax_1 &lt;- list(
  title = &quot;Hour in Day&quot;,
  type = &#39;category&#39;,
  showticklabels = TRUE)

ax_2 &lt;- list(
  title = &quot;Dstination&quot;,
  showticklabels = TRUE)

heatmap %&gt;% 
  filter(do_boro != &quot;Unknown&quot;) %&gt;% 
  select (do_boro, pu_hour) %&gt;% 
  mutate(
    do_boro = fct_infreq(do_boro)
  ) %&gt;% 
  group_by(do_boro, pu_hour) %&gt;% 
  count() %&gt;% 
  group_by(do_boro) %&gt;% 
  mutate( 
    total = sum(n)
    ) %&gt;% 
   mutate(percent = round((n/total)*100,1)) %&gt;% 
  arrange(do_boro, pu_hour) %&gt;% 
    plot_ly(
    x = ~pu_hour, y = ~do_boro,
    height = 400, width = 1400) %&gt;%
  add_heatmap(
    z = ~percent,
    text = ~paste(
      &quot;Trip to: &quot;, do_boro, &quot;&lt;br&gt;Pickup Time: &quot;, pu_hour, &quot;: 00&quot;,
      &quot;&lt;br&gt;Percent: &quot;, percent, &quot;%&quot;),
    hoverinfo = &quot;text&quot;, showscale = TRUE,
    opacity = 0.90) %&gt;%
    layout(xaxis = ax_1, yaxis = ax_2)</code></pre>
<div id="htmlwidget-ef5400d48ac170bbf110" style="width:1400px;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ef5400d48ac170bbf110">{"x":{"visdat":{"130a54e1cfea2":["function () ","plotlyVisDat"]},"cur_data":"130a54e1cfea2","attrs":{"130a54e1cfea2":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"z":{},"type":"heatmap","text":{},"hoverinfo":"text","showscale":true,"opacity":0.9,"inherit":true}},"layout":{"width":1400,"height":400,"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Hour in Day","type":"category","showticklabels":true},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dstination","showticklabels":true,"type":"category","categoryorder":"array","categoryarray":["Manhattan","Queens","Brooklyn","Bronx","EWR","Staten Island"]},"scene":{"zaxis":{"title":"percent"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"colorbar":{"title":"percent","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":["Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Manhattan","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Queens","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","Bronx","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","EWR","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island","Staten Island"],"z":[2.8,1.9,1.4,0.9,0.7,0.8,2.2,3.8,4.7,4.8,4.9,5.1,5.3,5.3,5.6,5.5,5.1,5.8,6.6,6.3,5.6,5.6,5.1,4,4.6,3.3,2.4,2.3,3.2,3.5,4.1,4.1,4,3.7,3.6,3.9,4.6,4.9,5.7,5.6,5.3,4.6,4.5,4.1,4,4.4,4.8,5,7.2,5.1,3.4,2.7,2.1,1.2,1.4,1.7,2.1,2.2,2.4,2.3,2.7,3.1,3.5,3.5,3.5,4.4,5.5,6.1,7,8.4,9.4,8.9,6.3,4.8,3.9,3.4,3.1,2,2.7,3.7,3.5,3.3,3,3.3,3.7,3.1,4,4.1,3.9,4.1,4,4.8,5,5.8,6.5,8,0.1,0.1,0.2,1.3,3,4.3,6.7,4.5,5.1,4.4,4.5,6.1,7,8.4,11.3,11.7,6.5,5.1,4.2,2.6,1.4,0.6,0.6,0.2,3.6,3.2,2.9,2.5,1.8,3.6,1.8,2.9,1.1,4.7,3.6,1.4,2.5,5,4,5.8,2.9,3.6,4.3,2.9,7.6,9.4,10.1,9],"type":"heatmap","text":["Trip to:  Manhattan <br>Pickup Time:  0 : 00 <br>Percent:  2.8 %","Trip to:  Manhattan <br>Pickup Time:  1 : 00 <br>Percent:  1.9 %","Trip to:  Manhattan <br>Pickup Time:  2 : 00 <br>Percent:  1.4 %","Trip to:  Manhattan <br>Pickup Time:  3 : 00 <br>Percent:  0.9 %","Trip to:  Manhattan <br>Pickup Time:  4 : 00 <br>Percent:  0.7 %","Trip to:  Manhattan <br>Pickup Time:  5 : 00 <br>Percent:  0.8 %","Trip to:  Manhattan <br>Pickup Time:  6 : 00 <br>Percent:  2.2 %","Trip to:  Manhattan <br>Pickup Time:  7 : 00 <br>Percent:  3.8 %","Trip to:  Manhattan <br>Pickup Time:  8 : 00 <br>Percent:  4.7 %","Trip to:  Manhattan <br>Pickup Time:  9 : 00 <br>Percent:  4.8 %","Trip to:  Manhattan <br>Pickup Time:  10 : 00 <br>Percent:  4.9 %","Trip to:  Manhattan <br>Pickup Time:  11 : 00 <br>Percent:  5.1 %","Trip to:  Manhattan <br>Pickup Time:  12 : 00 <br>Percent:  5.3 %","Trip to:  Manhattan <br>Pickup Time:  13 : 00 <br>Percent:  5.3 %","Trip to:  Manhattan <br>Pickup Time:  14 : 00 <br>Percent:  5.6 %","Trip to:  Manhattan <br>Pickup Time:  15 : 00 <br>Percent:  5.5 %","Trip to:  Manhattan <br>Pickup Time:  16 : 00 <br>Percent:  5.1 %","Trip to:  Manhattan <br>Pickup Time:  17 : 00 <br>Percent:  5.8 %","Trip to:  Manhattan <br>Pickup Time:  18 : 00 <br>Percent:  6.6 %","Trip to:  Manhattan <br>Pickup Time:  19 : 00 <br>Percent:  6.3 %","Trip to:  Manhattan <br>Pickup Time:  20 : 00 <br>Percent:  5.6 %","Trip to:  Manhattan <br>Pickup Time:  21 : 00 <br>Percent:  5.6 %","Trip to:  Manhattan <br>Pickup Time:  22 : 00 <br>Percent:  5.1 %","Trip to:  Manhattan <br>Pickup Time:  23 : 00 <br>Percent:  4 %","Trip to:  Queens <br>Pickup Time:  0 : 00 <br>Percent:  4.6 %","Trip to:  Queens <br>Pickup Time:  1 : 00 <br>Percent:  3.3 %","Trip to:  Queens <br>Pickup Time:  2 : 00 <br>Percent:  2.4 %","Trip to:  Queens <br>Pickup Time:  3 : 00 <br>Percent:  2.3 %","Trip to:  Queens <br>Pickup Time:  4 : 00 <br>Percent:  3.2 %","Trip to:  Queens <br>Pickup Time:  5 : 00 <br>Percent:  3.5 %","Trip to:  Queens <br>Pickup Time:  6 : 00 <br>Percent:  4.1 %","Trip to:  Queens <br>Pickup Time:  7 : 00 <br>Percent:  4.1 %","Trip to:  Queens <br>Pickup Time:  8 : 00 <br>Percent:  4 %","Trip to:  Queens <br>Pickup Time:  9 : 00 <br>Percent:  3.7 %","Trip to:  Queens <br>Pickup Time:  10 : 00 <br>Percent:  3.6 %","Trip to:  Queens <br>Pickup Time:  11 : 00 <br>Percent:  3.9 %","Trip to:  Queens <br>Pickup Time:  12 : 00 <br>Percent:  4.6 %","Trip to:  Queens <br>Pickup Time:  13 : 00 <br>Percent:  4.9 %","Trip to:  Queens <br>Pickup Time:  14 : 00 <br>Percent:  5.7 %","Trip to:  Queens <br>Pickup Time:  15 : 00 <br>Percent:  5.6 %","Trip to:  Queens <br>Pickup Time:  16 : 00 <br>Percent:  5.3 %","Trip to:  Queens <br>Pickup Time:  17 : 00 <br>Percent:  4.6 %","Trip to:  Queens <br>Pickup Time:  18 : 00 <br>Percent:  4.5 %","Trip to:  Queens <br>Pickup Time:  19 : 00 <br>Percent:  4.1 %","Trip to:  Queens <br>Pickup Time:  20 : 00 <br>Percent:  4 %","Trip to:  Queens <br>Pickup Time:  21 : 00 <br>Percent:  4.4 %","Trip to:  Queens <br>Pickup Time:  22 : 00 <br>Percent:  4.8 %","Trip to:  Queens <br>Pickup Time:  23 : 00 <br>Percent:  5 %","Trip to:  Brooklyn <br>Pickup Time:  0 : 00 <br>Percent:  7.2 %","Trip to:  Brooklyn <br>Pickup Time:  1 : 00 <br>Percent:  5.1 %","Trip to:  Brooklyn <br>Pickup Time:  2 : 00 <br>Percent:  3.4 %","Trip to:  Brooklyn <br>Pickup Time:  3 : 00 <br>Percent:  2.7 %","Trip to:  Brooklyn <br>Pickup Time:  4 : 00 <br>Percent:  2.1 %","Trip to:  Brooklyn <br>Pickup Time:  5 : 00 <br>Percent:  1.2 %","Trip to:  Brooklyn <br>Pickup Time:  6 : 00 <br>Percent:  1.4 %","Trip to:  Brooklyn <br>Pickup Time:  7 : 00 <br>Percent:  1.7 %","Trip to:  Brooklyn <br>Pickup Time:  8 : 00 <br>Percent:  2.1 %","Trip to:  Brooklyn <br>Pickup Time:  9 : 00 <br>Percent:  2.2 %","Trip to:  Brooklyn <br>Pickup Time:  10 : 00 <br>Percent:  2.4 %","Trip to:  Brooklyn <br>Pickup Time:  11 : 00 <br>Percent:  2.3 %","Trip to:  Brooklyn <br>Pickup Time:  12 : 00 <br>Percent:  2.7 %","Trip to:  Brooklyn <br>Pickup Time:  13 : 00 <br>Percent:  3.1 %","Trip to:  Brooklyn <br>Pickup Time:  14 : 00 <br>Percent:  3.5 %","Trip to:  Brooklyn <br>Pickup Time:  15 : 00 <br>Percent:  3.5 %","Trip to:  Brooklyn <br>Pickup Time:  16 : 00 <br>Percent:  3.5 %","Trip to:  Brooklyn <br>Pickup Time:  17 : 00 <br>Percent:  4.4 %","Trip to:  Brooklyn <br>Pickup Time:  18 : 00 <br>Percent:  5.5 %","Trip to:  Brooklyn <br>Pickup Time:  19 : 00 <br>Percent:  6.1 %","Trip to:  Brooklyn <br>Pickup Time:  20 : 00 <br>Percent:  7 %","Trip to:  Brooklyn <br>Pickup Time:  21 : 00 <br>Percent:  8.4 %","Trip to:  Brooklyn <br>Pickup Time:  22 : 00 <br>Percent:  9.4 %","Trip to:  Brooklyn <br>Pickup Time:  23 : 00 <br>Percent:  8.9 %","Trip to:  Bronx <br>Pickup Time:  0 : 00 <br>Percent:  6.3 %","Trip to:  Bronx <br>Pickup Time:  1 : 00 <br>Percent:  4.8 %","Trip to:  Bronx <br>Pickup Time:  2 : 00 <br>Percent:  3.9 %","Trip to:  Bronx <br>Pickup Time:  3 : 00 <br>Percent:  3.4 %","Trip to:  Bronx <br>Pickup Time:  4 : 00 <br>Percent:  3.1 %","Trip to:  Bronx <br>Pickup Time:  5 : 00 <br>Percent:  2 %","Trip to:  Bronx <br>Pickup Time:  6 : 00 <br>Percent:  2.7 %","Trip to:  Bronx <br>Pickup Time:  7 : 00 <br>Percent:  3.7 %","Trip to:  Bronx <br>Pickup Time:  8 : 00 <br>Percent:  3.5 %","Trip to:  Bronx <br>Pickup Time:  9 : 00 <br>Percent:  3.3 %","Trip to:  Bronx <br>Pickup Time:  10 : 00 <br>Percent:  3 %","Trip to:  Bronx <br>Pickup Time:  11 : 00 <br>Percent:  3.3 %","Trip to:  Bronx <br>Pickup Time:  12 : 00 <br>Percent:  3.7 %","Trip to:  Bronx <br>Pickup Time:  13 : 00 <br>Percent:  3.1 %","Trip to:  Bronx <br>Pickup Time:  14 : 00 <br>Percent:  4 %","Trip to:  Bronx <br>Pickup Time:  15 : 00 <br>Percent:  4.1 %","Trip to:  Bronx <br>Pickup Time:  16 : 00 <br>Percent:  3.9 %","Trip to:  Bronx <br>Pickup Time:  17 : 00 <br>Percent:  4.1 %","Trip to:  Bronx <br>Pickup Time:  18 : 00 <br>Percent:  4 %","Trip to:  Bronx <br>Pickup Time:  19 : 00 <br>Percent:  4.8 %","Trip to:  Bronx <br>Pickup Time:  20 : 00 <br>Percent:  5 %","Trip to:  Bronx <br>Pickup Time:  21 : 00 <br>Percent:  5.8 %","Trip to:  Bronx <br>Pickup Time:  22 : 00 <br>Percent:  6.5 %","Trip to:  Bronx <br>Pickup Time:  23 : 00 <br>Percent:  8 %","Trip to:  EWR <br>Pickup Time:  0 : 00 <br>Percent:  0.1 %","Trip to:  EWR <br>Pickup Time:  1 : 00 <br>Percent:  0.1 %","Trip to:  EWR <br>Pickup Time:  2 : 00 <br>Percent:  0.2 %","Trip to:  EWR <br>Pickup Time:  3 : 00 <br>Percent:  1.3 %","Trip to:  EWR <br>Pickup Time:  4 : 00 <br>Percent:  3 %","Trip to:  EWR <br>Pickup Time:  5 : 00 <br>Percent:  4.3 %","Trip to:  EWR <br>Pickup Time:  6 : 00 <br>Percent:  6.7 %","Trip to:  EWR <br>Pickup Time:  7 : 00 <br>Percent:  4.5 %","Trip to:  EWR <br>Pickup Time:  8 : 00 <br>Percent:  5.1 %","Trip to:  EWR <br>Pickup Time:  9 : 00 <br>Percent:  4.4 %","Trip to:  EWR <br>Pickup Time:  10 : 00 <br>Percent:  4.5 %","Trip to:  EWR <br>Pickup Time:  11 : 00 <br>Percent:  6.1 %","Trip to:  EWR <br>Pickup Time:  12 : 00 <br>Percent:  7 %","Trip to:  EWR <br>Pickup Time:  13 : 00 <br>Percent:  8.4 %","Trip to:  EWR <br>Pickup Time:  14 : 00 <br>Percent:  11.3 %","Trip to:  EWR <br>Pickup Time:  15 : 00 <br>Percent:  11.7 %","Trip to:  EWR <br>Pickup Time:  16 : 00 <br>Percent:  6.5 %","Trip to:  EWR <br>Pickup Time:  17 : 00 <br>Percent:  5.1 %","Trip to:  EWR <br>Pickup Time:  18 : 00 <br>Percent:  4.2 %","Trip to:  EWR <br>Pickup Time:  19 : 00 <br>Percent:  2.6 %","Trip to:  EWR <br>Pickup Time:  20 : 00 <br>Percent:  1.4 %","Trip to:  EWR <br>Pickup Time:  21 : 00 <br>Percent:  0.6 %","Trip to:  EWR <br>Pickup Time:  22 : 00 <br>Percent:  0.6 %","Trip to:  EWR <br>Pickup Time:  23 : 00 <br>Percent:  0.2 %","Trip to:  Staten Island <br>Pickup Time:  0 : 00 <br>Percent:  3.6 %","Trip to:  Staten Island <br>Pickup Time:  1 : 00 <br>Percent:  3.2 %","Trip to:  Staten Island <br>Pickup Time:  2 : 00 <br>Percent:  2.9 %","Trip to:  Staten Island <br>Pickup Time:  3 : 00 <br>Percent:  2.5 %","Trip to:  Staten Island <br>Pickup Time:  4 : 00 <br>Percent:  1.8 %","Trip to:  Staten Island <br>Pickup Time:  5 : 00 <br>Percent:  3.6 %","Trip to:  Staten Island <br>Pickup Time:  6 : 00 <br>Percent:  1.8 %","Trip to:  Staten Island <br>Pickup Time:  7 : 00 <br>Percent:  2.9 %","Trip to:  Staten Island <br>Pickup Time:  8 : 00 <br>Percent:  1.1 %","Trip to:  Staten Island <br>Pickup Time:  9 : 00 <br>Percent:  4.7 %","Trip to:  Staten Island <br>Pickup Time:  10 : 00 <br>Percent:  3.6 %","Trip to:  Staten Island <br>Pickup Time:  11 : 00 <br>Percent:  1.4 %","Trip to:  Staten Island <br>Pickup Time:  12 : 00 <br>Percent:  2.5 %","Trip to:  Staten Island <br>Pickup Time:  13 : 00 <br>Percent:  5 %","Trip to:  Staten Island <br>Pickup Time:  14 : 00 <br>Percent:  4 %","Trip to:  Staten Island <br>Pickup Time:  15 : 00 <br>Percent:  5.8 %","Trip to:  Staten Island <br>Pickup Time:  16 : 00 <br>Percent:  2.9 %","Trip to:  Staten Island <br>Pickup Time:  17 : 00 <br>Percent:  3.6 %","Trip to:  Staten Island <br>Pickup Time:  18 : 00 <br>Percent:  4.3 %","Trip to:  Staten Island <br>Pickup Time:  19 : 00 <br>Percent:  2.9 %","Trip to:  Staten Island <br>Pickup Time:  20 : 00 <br>Percent:  7.6 %","Trip to:  Staten Island <br>Pickup Time:  21 : 00 <br>Percent:  9.4 %","Trip to:  Staten Island <br>Pickup Time:  22 : 00 <br>Percent:  10.1 %","Trip to:  Staten Island <br>Pickup Time:  23 : 00 <br>Percent:  9 %"],"hoverinfo":"text","opacity":0.9,"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Each square in the heatmap represents a unique combination of destination boroughs and 24 hours in a day, and the color represents the percent of trip amount out of the total trip amount in that borough, with brighter color represents higher percent.</p>
<p>We can see that in boroughs like Staten Island, Bronx, or Brroklyn, there were more trips to these places in night or late night (8pm - 1am) than in the day time. Trips to Queens were relatively evenly spread out across hours in a day and trips to Manhattan were more likely to be in the day rather than in the night. Trips to Newark had a clear peak in the afternoon hours.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
